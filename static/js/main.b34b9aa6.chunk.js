(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{157:function(e,t,a){e.exports=a(193)},193:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),l=a(81),o=a(82),s=a(141),m=a(139),u=a(57),d=a(43),p=a(140),f=a(10),y=a(31);function h(){var e=Object(d.a)(["\n        query weather($city: String!) {\n          getCurrentWeather(cityName: $city) {\n            cod\n          }\n        }\n      "]);return h=function(){return e},e}var g=function(){function e(){Object(l.a)(this,e),this.cities=[],this.client=new y.a({uri:"https://7b3u2.sse.codesandbox.io/"})}return Object(o.a)(e,[{key:"setCity",value:function(e){this.cities=e}},{key:"addCity",value:function(e){this.setCity([].concat(Object(p.a)(this.cities),[e]))}},{key:"getCurrentWeather",value:function(e){return this.client.query({query:Object(y.b)(h()),variables:{city:e}})}},{key:"deleteCity",value:function(e){var t=this.cities.filter((function(t){return t!==e}));this.setCity(t)}}]),e}();Object(f.i)(g,{cities:f.n,setCity:f.f,addCity:f.f,getCurrentWeather:f.f,deleteCity:f.f});var b=new g,E=a(40),v=a(25),x=a(240),j=a(243),O=a(239),w=a(59),C=a(227),S=a(228),N=a(105),W=a(241),k=a(230),B=a(229),z=a(133),I=a.n(z),L=a(132),T=a.n(L),$=a(225),A=a(242),q=a(226),R=a(131),H=a.n(R),P=a(231);function _(){var e=Object(d.a)(["\n  query hero($city: String!) {\n    getCurrentWeather(cityName: $city) {\n      weather {\n        id\n      }\n    }\n  }\n"]);return _=function(){return e},e}var D=Object(N.a)((function(){return{typographyStyles:{flex:1},toolbarStyles:{justifyContent:"space-between"},formStyles:{display:"flex",paddingLeft:"20px",paddingRight:"20px"},TextFieldStyles:{marginRight:"15px",color:"#ffffff",fontSize:"20px"},appBarStyles:{paddingTop:"10px",paddingBottom:"10px"},circularProgress:{marginLeft:"10px"},headerLink:{fontSize:26},inputBtn:{alignSelf:"flex-start",height:"60px"}}})),V=r.a.forwardRef((function(e,t){return r.a.createElement(E.c,Object.assign({ref:t,to:"/"},e))}));Object(y.b)(_());var F=Object(u.a)((function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(w.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)(!0),d=Object(w.a)(u,2),p=d[0],f=d[1],y=Object(n.useState)(!1),h=Object(w.a)(y,2),g=h[0],E=h[1],v=Object(n.useState)(!0),x=Object(w.a)(v,2),j=x[0],O=x[1],N=D(),z=r.a.createElement($.a,{in:p},r.a.createElement(A.a,{severity:"error",action:r.a.createElement(q.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){f(!1)}},r.a.createElement(H.a,{fontSize:"inherit"}))},"Undefined city!!!"));return r.a.createElement(C.a,{className:N.appBarStyles,position:"static"},r.a.createElement(S.a,{className:N.toolbarStyles},r.a.createElement(B.a,{className:N.headerLink,color:"secondary",component:V,to:"/"},"Weather APP"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==c?(E(!0),m(!1),b.getCurrentWeather(c).then((function(e){E(!1),m(!1),b.addCity(c),m(!1),i(""),O(!0)})).catch((function(e){E(!1),f(!0),m(!0),O(!1)}))):O(!1)},className:N.formStyles,noValidate:!0,autoComplete:"off"},r.a.createElement(W.a,{onChange:function(e){i(e.target.value)},value:c,id:"input-with-icon-textfield",label:"Add location",variant:"outlined",color:"secondary",error:!j,helperText:j?null:"Incorrect entry.",InputProps:{startAdornment:r.a.createElement(k.a,{position:"start"},r.a.createElement(T.a,null)),className:N.TextFieldStyles}}),r.a.createElement(B.a,{variant:"contained",color:"secondary",type:"submit",size:"large",startIcon:r.a.createElement(I.a,null),className:N.inputBtn},"Add city",g?r.a.createElement(P.a,{className:N.circularProgress}):null))),s?z:null)})),G=a(232),J=a(233),U=a(236),K=a(235),M=a(60),Q=a(134),X=a.n(Q),Y=a(64),Z=a(237),ee=a(244),te=a(234);function ae(){var e=Object(d.a)(["\n  query weather($city: String!) {\n    getCurrentWeather(cityName: $city) {\n      main {\n        temp_c\n      }\n      weather {\n            description\n            icon\n        }\n        wind {\n            speed\n        }\n    }\n  }\n"]);return ae=function(){return e},e}var ne=Object(G.a)({root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12},cont:{display:"flex",justifyContent:"space-between"},link:{fontSize:"20px"},cardHeader:{fontSize:22,color:"#1D1AB2"}}),re=Object(y.b)(ae());var ce=Object(u.a)((function(e){var t=e.city,a=ne(),n=Object(Y.a)(re,{variables:{city:t}}),c=n.data,i=n.loading,l=n.error;if(i)return r.a.createElement(P.a,null);if(l)return"Error! ".concat(l.message);var o="http://openweathermap.org/img/w/".concat(c.getCurrentWeather.weather[0].icon,".png"),s=c.getCurrentWeather.weather[0].description,m=c.getCurrentWeather.wind.speed,u=r.a.forwardRef((function(e,a){return r.a.createElement(E.c,Object.assign({ref:a,to:"/".concat(t)},e))}));return r.a.createElement(J.a,{className:a.root},r.a.createElement(te.a,{avatar:r.a.createElement(ee.a,{src:o,"aria-label":"recipe"}),title:r.a.createElement(M.a,{className:a.cardHeader},t)}),r.a.createElement(K.a,null,r.a.createElement(M.a,{variant:"h4",component:"h2"},c.getCurrentWeather.main.temp_c," \xb0C"),r.a.createElement(M.a,{variant:"body2",component:"p"},s,r.a.createElement("br",null),"Wind ",m," m/s")),r.a.createElement(U.a,{className:a.cont},r.a.createElement(Z.a,{className:a.link,color:"secondary",component:u},"5 day weather forecast"),r.a.createElement(q.a,{color:"secondary","aria-label":"delete",className:a.margin,onClick:function(){b.deleteCity(t)},fontSize:"large"},r.a.createElement(X.a,null))))})),ie=a(135),le=a.n(ie)()({gridContainer:{paddingLeft:"16px",paddingRight:"16px",paddingTop:"30px"},gridInner:{alignItems:"stretch"}}),oe=function(e){var t=e.cities,a=le(),n=t.map((function(e,t){return r.a.createElement(O.a,{key:t,item:!0,xs:12,sm:6,md:4},r.a.createElement(ce,{city:e}))}));return r.a.createElement("div",{className:a.gridContainer},r.a.createElement(O.a,{container:!0,spacing:4,className:a.gridInner},n))},se=a(16),me=a(137),ue=a.n(me),de=a(136),pe=a.n(de);function fe(){var e=Object(d.a)(["\n  query weather($city: String!) {\n    getWeather(cityName: $city) {\n      list {\n        dt\n        main {\n          temp_c\n        }\n        weather {\n          description\n          icon\n        }\n        wind {\n          speed\n        }\n      }\n    }\n  }\n"]);return fe=function(){return e},e}var ye=Object(G.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},mainTitle:{marginBottom:"20px",marginTop:"20px"},gridContainer:{paddingLeft:"16px",paddingRight:"16px",paddingTop:"30px"},gridInner:{alignItems:"stretch"},cardHeader:{fontSize:18,color:"#1D1AB2"}}),he=Object(y.b)(fe()),ge=function(e){var t=e.city,a=Object(Y.a)(he,{variables:{city:t}}),n=a.data,c=a.loading,i=a.error,l=ye();if(c)return r.a.createElement(ue.a,null);if(i)return"Error! ".concat(i.message);var o=n.getWeather.list.map((function(e,t){var a=pe()(1e3*e.dt).format("LLLL");return r.a.createElement(O.a,{key:t,item:!0,xs:12,sm:6,md:4},r.a.createElement(J.a,{className:l.root},r.a.createElement(te.a,{avatar:r.a.createElement(ee.a,{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),"aria-label":"recipe"}),title:r.a.createElement(M.a,{className:l.cardHeader},a)}),r.a.createElement(K.a,null,r.a.createElement(M.a,{className:l.title,color:"textSecondary",gutterBottom:!0},e.weather[0].description),r.a.createElement(M.a,{variant:"h5",component:"h2"},e.main.temp_c," \xb0C"),r.a.createElement(M.a,{variant:"body2",component:"p"},"Wind - ",e.wind.speed," m/s"))))}));return r.a.createElement(j.a,{className:l.gridContainer},r.a.createElement(M.a,{className:l.mainTitle,variant:"h3",component:"h1"},"5 day weather forecast ",t),r.a.createElement(O.a,{item:!0,container:!0,spacing:4,className:l.gridInner},o))},be=a(138),Ee=a.n(be),ve=Object(G.a)((function(e){return{text:{padding:e.spacing(2,2,0),fontSize:"20px"},appBar:{top:"auto",bottom:0},grow:{flexGrow:1}}})),xe=function(){var e=ve();return r.a.createElement(C.a,{position:"fixed",color:"primary",className:e.appBar},r.a.createElement(S.a,null,r.a.createElement(Ee.a,null),r.a.createElement(Z.a,{href:"https://github.com/ivanovmain",variant:"body2",color:"secondary",className:e.text},"GitHub "),r.a.createElement("div",{className:e.grow}),r.a.createElement(M.a,{variant:"body2",component:"p",className:e.text},"Created by Ivanov V.V",r.a.createElement("br",null),"Email:",r.a.createElement(Z.a,{href:"mailto:ivanovvvmain@yandex.ru",variant:"body2",color:"secondary",className:e.text}," ivanovvvmain@yandex.ru "))))},je=new y.a({uri:"https://7b3u2.sse.codesandbox.io/"});Object(f.g)({enforceActions:"observed"});var Oe=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=b.cities;return r.a.createElement(v.a,{client:je},r.a.createElement(E.a,null,r.a.createElement(j.a,null,r.a.createElement(x.a,null),r.a.createElement(O.a,{container:!0,direction:"column"},r.a.createElement(O.a,{item:!0},r.a.createElement(F,null)),r.a.createElement(O.a,{item:!0,container:!0},r.a.createElement(O.a,{item:!0,xs:!1,sm:2}),r.a.createElement(O.a,{item:!0,xs:12,sm:8},r.a.createElement(se.c,null,r.a.createElement(se.a,{path:"/",exact:!0,render:function(){return r.a.createElement(oe,{cities:e})}}),r.a.createElement(se.a,{path:"/:city",render:function(e){var t=e.match.params.city;return r.a.createElement(ge,{city:t})}}))),r.a.createElement(O.a,{item:!0,xs:!1,sm:2}))),r.a.createElement(xe,null))))}}]),a}(r.a.Component),we=Object(u.a)(Oe);i.a.render(r.a.createElement(E.b,{basename:"/"},r.a.createElement(we,null)),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.b34b9aa6.chunk.js.map