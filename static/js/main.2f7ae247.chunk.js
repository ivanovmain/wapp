(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{157:function(e,t,a){e.exports=a(193)},193:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),l=a(81),o=a(82),s=a(141),m=a(139),u=a(57),d=a(56),p=a(140),f=a(10),y=a(32);function h(){var e=Object(d.a)(["\n        query weather($city: String!) {\n          getCurrentWeather(cityName: $city) {\n            cod\n          }\n        }\n      "]);return h=function(){return e},e}var g=function(){function e(){Object(l.a)(this,e),this.cities=["\u0421\u0443\u0440\u0433\u0443\u0442"],this.client=new y.a({uri:"https://7b3u2.sse.codesandbox.io/"})}return Object(o.a)(e,[{key:"setCity",value:function(e){this.cities=e}},{key:"addCity",value:function(e){this.setCity([].concat(Object(p.a)(this.cities),[e]))}},{key:"getCurrentWeather",value:function(e){return this.client.query({query:Object(y.b)(h()),variables:{city:e}})}},{key:"deleteCity",value:function(e){var t=this.cities.filter((function(t){return t!==e}));this.setCity(t)}}]),e}();Object(f.i)(g,{cities:f.n,setCity:f.f,addCity:f.f,getCurrentWeather:f.f,deleteCity:f.f});var b=new g,E=a(25),v=a(240),x=a(243),j=a(239),O=a(59),w=a(227),C=a(228),S=a(105),N=a(241),k=a(230),W=a(229),B=a(133),z=a.n(B),I=a(132),L=a.n(I),T=a(225),A=a(242),R=a(226),$=a(131),q=a.n($),H=a(231),P=a(49),_=Object(S.a)((function(){return{typographyStyles:{flex:1},toolbarStyles:{justifyContent:"space-between"},formStyles:{display:"flex",paddingLeft:"20px",paddingRight:"20px"},TextFieldStyles:{marginRight:"15px",color:"#ffffff",fontSize:"20px"},appBarStyles:{paddingTop:"10px",paddingBottom:"10px"},circularProgress:{marginLeft:"10px"},headerLink:{fontSize:26},inputBtn:{alignSelf:"flex-start",height:"60px"}}})),D=r.a.forwardRef((function(e,t){return r.a.createElement(P.b,Object.assign({ref:t,to:"/"},e))}));var V=Object(u.a)((function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(O.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)(!0),d=Object(O.a)(u,2),p=d[0],f=d[1],y=Object(n.useState)(!1),h=Object(O.a)(y,2),g=h[0],E=h[1],v=Object(n.useState)(!0),x=Object(O.a)(v,2),j=x[0],S=x[1],B=_(),I=r.a.createElement(T.a,{in:p},r.a.createElement(A.a,{severity:"error",action:r.a.createElement(R.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){f(!1)}},r.a.createElement(q.a,{fontSize:"inherit"}))},"Undefined city!!!"));return r.a.createElement(w.a,{className:B.appBarStyles,position:"static"},r.a.createElement(C.a,{className:B.toolbarStyles},r.a.createElement(W.a,{className:B.headerLink,color:"secondary",component:D,to:"/"},"Weather APP"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==c?(E(!0),m(!1),b.getCurrentWeather(c).then((function(e){E(!1),m(!1),b.addCity(c),m(!1),i(""),S(!0)})).catch((function(e){E(!1),f(!0),m(!0),S(!1)}))):S(!1)},className:B.formStyles,noValidate:!0,autoComplete:"off"},r.a.createElement(N.a,{onChange:function(e){i(e.target.value)},value:c,id:"input-with-icon-textfield",label:"Add location",variant:"outlined",color:"secondary",error:!j,helperText:j?null:"Incorrect entry.",InputProps:{startAdornment:r.a.createElement(k.a,{position:"start"},r.a.createElement(L.a,null)),className:B.TextFieldStyles}}),r.a.createElement(W.a,{variant:"contained",color:"secondary",type:"submit",size:"large",startIcon:r.a.createElement(z.a,null),className:B.inputBtn},"Add city",g?r.a.createElement(H.a,{className:B.circularProgress}):null))),s?I:null)})),F=a(232),G=a(233),J=a(236),U=a(235),K=a(60),M=a(134),Q=a.n(M),X=a(64),Y=a(237),Z=a(244),ee=a(234);function te(){var e=Object(d.a)(["\n  query weather($city: String!) {\n    getCurrentWeather(cityName: $city) {\n      main {\n        temp_c\n      }\n      weather {\n            description\n            icon\n        }\n        wind {\n            speed\n        }\n    }\n  }\n"]);return te=function(){return e},e}var ae=Object(F.a)({root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12},cont:{display:"flex",justifyContent:"space-between"},link:{fontSize:"20px"},cardHeader:{fontSize:22,color:"#1D1AB2"}}),ne=Object(y.b)(te());var re=Object(u.a)((function(e){var t=e.city,a=ae(),n=Object(X.a)(ne,{variables:{city:t}}),c=n.data,i=n.loading,l=n.error;if(i)return r.a.createElement(H.a,null);if(l)return"Error! ".concat(l.message);var o="http://openweathermap.org/img/w/".concat(c.getCurrentWeather.weather[0].icon,".png"),s=c.getCurrentWeather.weather[0].description,m=c.getCurrentWeather.wind.speed,u=r.a.forwardRef((function(e,a){return r.a.createElement(P.b,Object.assign({ref:a,to:"/".concat(t)},e))}));return r.a.createElement(G.a,{className:a.root},r.a.createElement(ee.a,{avatar:r.a.createElement(Z.a,{src:o,"aria-label":"recipe"}),title:r.a.createElement(K.a,{className:a.cardHeader},t)}),r.a.createElement(U.a,null,r.a.createElement(K.a,{variant:"h4",component:"h2"},c.getCurrentWeather.main.temp_c," \xb0C"),r.a.createElement(K.a,{variant:"body2",component:"p"},s,r.a.createElement("br",null),"Wind ",m," m/s")),r.a.createElement(J.a,{className:a.cont},r.a.createElement(Y.a,{className:a.link,color:"secondary",component:u},"5 day weather forecast"),r.a.createElement(R.a,{color:"secondary","aria-label":"delete",className:a.margin,onClick:function(){b.deleteCity(t)},fontSize:"large"},r.a.createElement(Q.a,null))))})),ce=a(135),ie=a.n(ce)()({gridContainer:{paddingLeft:"16px",paddingRight:"16px",paddingTop:"30px"},gridInner:{alignItems:"stretch"}}),le=function(e){var t=e.cities,a=ie(),n=t.map((function(e,t){return r.a.createElement(j.a,{key:t,item:!0,xs:12,sm:6,md:4},r.a.createElement(re,{city:e}))}));return r.a.createElement("div",{className:a.gridContainer},r.a.createElement(j.a,{container:!0,spacing:4,className:a.gridInner},0===n.length?"List empty":n))},oe=a(16),se=a(137),me=a.n(se),ue=a(136),de=a.n(ue);function pe(){var e=Object(d.a)(["\n  query weather($city: String!) {\n    getWeather(cityName: $city) {\n      list {\n        dt\n        main {\n          temp_c\n        }\n        weather {\n          description\n          icon\n        }\n        wind {\n          speed\n        }\n      }\n    }\n  }\n"]);return pe=function(){return e},e}var fe=Object(F.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},mainTitle:{marginBottom:"20px",marginTop:"20px"},gridContainer:{paddingLeft:"16px",paddingRight:"16px",paddingTop:"30px"},gridInner:{alignItems:"stretch"},cardHeader:{fontSize:18,color:"#1D1AB2"}}),ye=Object(y.b)(pe()),he=function(e){var t=e.city,a=Object(X.a)(ye,{variables:{city:t}}),n=a.data,c=a.loading,i=a.error,l=fe();if(c)return r.a.createElement(me.a,null);if(i)return"Error! ".concat(i.message);var o=n.getWeather.list.map((function(e,t){var a=de()(1e3*e.dt).format("LLLL");return r.a.createElement(j.a,{key:t,item:!0,xs:12,sm:6,md:4},r.a.createElement(G.a,{className:l.root},r.a.createElement(ee.a,{avatar:r.a.createElement(Z.a,{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),"aria-label":"recipe"}),title:r.a.createElement(K.a,{className:l.cardHeader},a)}),r.a.createElement(U.a,null,r.a.createElement(K.a,{className:l.title,color:"textSecondary",gutterBottom:!0},e.weather[0].description),r.a.createElement(K.a,{variant:"h5",component:"h2"},e.main.temp_c," \xb0C"),r.a.createElement(K.a,{variant:"body2",component:"p"},"Wind - ",e.wind.speed," m/s"))))}));return r.a.createElement(x.a,{className:l.gridContainer},r.a.createElement(K.a,{className:l.mainTitle,variant:"h3",component:"h1"},"5 day weather forecast ",t),r.a.createElement(j.a,{item:!0,container:!0,spacing:4,className:l.gridInner},o))},ge=a(138),be=a.n(ge),Ee=Object(F.a)((function(e){return{text:{padding:e.spacing(2,2,0),fontSize:"20px"},appBar:{top:"auto",bottom:0},grow:{flexGrow:1}}})),ve=function(){var e=Ee();return r.a.createElement(w.a,{position:"fixed",color:"primary",className:e.appBar},r.a.createElement(C.a,null,r.a.createElement(be.a,null),r.a.createElement(Y.a,{href:"https://github.com/ivanovmain",variant:"body2",color:"secondary",className:e.text},"GitHub "),r.a.createElement("div",{className:e.grow}),r.a.createElement(K.a,{variant:"body2",component:"p",className:e.text},"Created by Ivanov V.V",r.a.createElement("br",null),"Email:",r.a.createElement(Y.a,{href:"mailto:ivanovvvmain@yandex.ru",variant:"body2",color:"secondary",className:e.text}," ivanovvvmain@yandex.ru "))))},xe=new y.a({uri:"https://7b3u2.sse.codesandbox.io/"});Object(f.g)({enforceActions:"observed"});var je=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=b.cities;return r.a.createElement(E.a,{client:xe},r.a.createElement(x.a,null,r.a.createElement(v.a,null),r.a.createElement(j.a,{container:!0,direction:"column"},r.a.createElement(j.a,{item:!0},r.a.createElement(V,null)),r.a.createElement(j.a,{item:!0,container:!0},r.a.createElement(j.a,{item:!0,xs:!1,sm:2}),r.a.createElement(j.a,{item:!0,xs:12,sm:8},r.a.createElement(oe.c,null,r.a.createElement(oe.a,{path:"/",exact:!0,render:function(){return r.a.createElement(le,{cities:e})}}),r.a.createElement(oe.a,{path:"/:city",render:function(e){var t=e.match.params.city;return r.a.createElement(he,{city:t})}}))),r.a.createElement(j.a,{item:!0,xs:!1,sm:2}))),r.a.createElement(ve,null)))}}]),a}(r.a.Component),Oe=Object(u.a)(je);i.a.render(r.a.createElement(P.a,{basename:"".concat("/wapp","/")},r.a.createElement(Oe,null)),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.2f7ae247.chunk.js.map